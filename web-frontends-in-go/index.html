<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>How I build web frontends in Go - Philipp Tanlak</title><meta name=description content="Go is a great language for building all kinds of backend services like APIs. But what about web frontends? Let&rsquo;s have a look&mldr;"><meta name=author content><link href=/style.css rel=stylesheet><link href=/custom.css rel=stylesheet><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=icon href=/favicon.ico><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel=stylesheet><script>function setTheme(){const a=localStorage.getItem('theme');return a==='dark'?(document.body.classList.add('dark'),"dark"):a==='light'?(document.body.classList.remove('dark'),"light"):window.matchMedia('(prefers-color-scheme: dark)').matches?(document.body.classList.add('dark'),"dark"):"light"}function toggleTheme(a){localStorage.setItem("theme",a),updateThemeButton(setTheme())}function updateThemeButton(a){a==="dark"?(document.getElementById("theme-toggle-dark").style.display="none",document.getElementById("theme-toggle-light").style.display="block"):(document.getElementById("theme-toggle-dark").style.display="block",document.getElementById("theme-toggle-light").style.display="none")}document.addEventListener('readystatechange',a=>{a.target.readyState==="complete"&&document.body.classList.add("transition-delay")})</script></head><body class=single><header class=header><nav class=nav><p class=logo><a href=/>Philipp Tanlak</a></p><ul class=menu><li style=display:flex;align-items:center><svg onclick="toggleTheme('dark');" id="theme-toggle-dark" style="cursor:pointer;display:none" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><rect fill="none" height="24" width="24"/><path d="M12 7c-2.76.0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55.0 1-.45 1-1s-.45-1-1-1H2c-.55.0-1 .45-1 1s.45 1 1 1zm18 0h2c.55.0 1-.45 1-1s-.45-1-1-1h-2c-.55.0-1 .45-1 1S19.45 13 20 13zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1S11 19.45 11 20zM5.99 4.58c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0s.39-1.03.0-1.41L5.99 4.58zM18.36 16.95c-.39-.39-1.03-.39-1.41.0-.39.39-.39 1.03.0 1.41l1.06 1.06c.39.39 1.03.39 1.41.0.39-.39.39-1.03.0-1.41l-1.06-1.06zM19.42 5.99c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03.0-1.41-.39-.39-1.03-.39-1.41.0l-1.06 1.06c-.39.39-.39 1.03.0 1.41s1.03.39 1.41.0l1.06-1.06z"/></svg><svg onclick="toggleTheme('light');" id="theme-toggle-light" style="cursor:pointer;display:none" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><rect fill="none" height="24" width="24"/><path fill="#fff" d="M12 3c-4.97.0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98.0-5.4-2.42-5.4-5.4.0-1.81.89-3.42 2.26-4.4C12.92 3.04 12.46 3 12 3z"/></svg></li><li><a href=https://github.com/philippta>GitHub</a></li><li><a href=/about-me/>About Me</a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How I build web frontends in Go</h1><div class=post-meta>March 7, 2021</div></header><div class=post-content><ul><li><a href=#introduction>Introduction</a></li><li><a href=#why-would-i-choose-go>Why would I choose Go?</a></li><li><a href=#rendering-html-with-go>Rendering HTML with Go</a></li><li><a href=#how-i-structure-my-templates>How I structure my templates?</a><ul><li><a href=#the-wordpress-way-dont-do-this>The WordPress way</a></li><li><a href=#the-django-rails-laravel-way-do-this>The Django, Rails, Laravel way</a></li></ul></li><li><a href=#implementing-the-template-renderers>Implementing the template renderers</a><ul><li><a href=#the-package-structure>The package structure</a></li><li><a href=#bundling-up-the-templates>Bundling up the templates</a></li><li><a href=#parsing-the-templates>Parsing the templates</a></li><li><a href=#template-helper-structs-and-functions>Template helper structs and functions</a></li></ul></li><li><a href=#using-the-new-template-functions>Using the new template functions</a></li><li><a href=#wrapping-up>Wrapping up</a></li></ul><h2 id=introduction>Introduction</h2><p>Go is a great language for building all kinds of backend services like APIs or microservices and many people use it for that. But what about web frontends, specifically dynamically rendered web applications? Let&rsquo;s have a look&mldr;</p><h2 id=why-would-i-choose-go>Why would I choose Go?</h2><p>With every side project I am creating, there is almost certainly a need for a web frontend. Over the past years I&rsquo;ve tried many different solutions which fit seemingly perfectly for this job. Especially when it comes to client side rendered pages built with React, Vue, Gatsby, Next.js, etc. But every time I try to build web applications with these frameworks it feels overly complicated, so I end up throwing them away and falling back to basic HTML pages rendered on the server side with Go. But I don&rsquo;t want to talk about the difficulties I have with these, as this is for another post.</p><h2 id=rendering-html-with-go>Rendering HTML with Go</h2><p>In case you haven&rsquo;t heard of it before, Go comes with a built in html templating engine, which you can find in the <code>html/template</code> package. The syntax is not that intuitive at first but actually very simple and gets the job done perfectly. Here is a quick example of how to parse and render an html template:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;html/template&#34;</span>

<span style=color:#a6e22e>tmpl</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;&#34;</span>).<span style=color:#a6e22e>Parse</span>(<span style=color:#e6db74>&#34;&lt;h1&gt;{{.}}&lt;/h1&gt;&#34;</span>) <span style=color:#75715e>// from string
</span><span style=color:#75715e></span><span style=color:#a6e22e>tmpl</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>ParseFiles</span>(<span style=color:#e6db74>&#34;demo.html&#34;</span>)         <span style=color:#75715e>// from file
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>tmpl</span>.<span style=color:#a6e22e>Execute</span>(<span style=color:#a6e22e>w</span>, <span style=color:#e6db74>&#34;Hello world&#34;</span>)
<span style=color:#75715e>// Output: &lt;h1&gt;Hello world&lt;/h1&gt;
</span></code></pre></div><p>I don&rsquo;t want to go into much detail how the templating syntax works right now as I&rsquo;d much rather focus on patterns I&rsquo;ve developed for myself which deal with more complex template structures. A reference of every possible template instruction can be found in the <a href=https://golang.org/pkg/text/template/>text/template documentation</a>.</p><h2 id=how-i-structure-my-templates>How I structure my templates?</h2><p>When it comes to Go, there are two types of possibilities how to deal with template fragments (e.g. header, content, footer).</p><ol><li>The WordPress way</li><li>The Django, Rails, Laravel way</li></ol><h3 id=the-wordpress-way-dont-do-this>The WordPress way (Don&rsquo;t do this)</h3><p>The WordPress way of structuring templates is to have a <code>header.html</code> and a <code>footer.html</code> file, and several others for the content in between. This is not a great idea to do, as it introduces splitting HTML tags in half. One example for this would be:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- header.html --&gt;</span>
{{define &#34;header&#34;}}
&lt;<span style=color:#f92672>html</span>&gt;
    &lt;<span style=color:#f92672>body</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar&#34;</span>&gt;...&lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;
{{end}}
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- profile.html --&gt;</span>
{{template &#34;header&#34; .}}

&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;profile&#34;</span>&gt;
    Your username: {{.User.Name}}
&lt;/<span style=color:#f92672>div</span>&gt;

{{template &#34;footer&#34; .}}
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- footer.html --&gt;</span>
{{define &#34;footer&#34;}}
        &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
{{end}}
</code></pre></div><p>The corresponding Go code would look something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>tmpl</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>ParseFiles</span>(<span style=color:#e6db74>&#34;header.html&#34;</span>, <span style=color:#e6db74>&#34;footer.html&#34;</span>, <span style=color:#e6db74>&#34;profile.html&#34;</span>)
<span style=color:#a6e22e>tmpl</span>.<span style=color:#a6e22e>Execute</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>User</span>{<span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;philippta&#34;</span>})
</code></pre></div><h3 id=the-django-rails-laravel-way-do-this>The Django, Rails, Laravel way (Do this)</h3><p>A better way to structure templates is to have parent and child templates, as you would define them in Django, Rails or Laravel. This approach results in cleaner and better maintainable templates as it does not cut HTML tags in half and you don&rsquo;t have to worry about forgetting to close a HTML tag in another file. One example for this would be:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- layout.html --&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
    &lt;<span style=color:#f92672>body</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar&#34;</span>&gt;...&lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;
            {{block &#34;content&#34; .}}
                <span style=color:#75715e>&lt;!-- Fallback, if &#34;content&#34; is not defined elsewhere --&gt;</span>
            {{end}}
        &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- profile.html --&gt;</span>
{{define &#34;content&#34;}}
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;profile&#34;</span>&gt;
    Your username: {{.User.Name}}
&lt;/<span style=color:#f92672>div</span>&gt;
{{end}}
</code></pre></div><p>The corresponding Go code would look something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>tmpl</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>ParseFiles</span>(<span style=color:#e6db74>&#34;layout.html&#34;</span>, <span style=color:#e6db74>&#34;profile.html&#34;</span>)
<span style=color:#a6e22e>tmpl</span>.<span style=color:#a6e22e>Execute</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>User</span>{<span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;philippta&#34;</span>})
</code></pre></div><p>With this approach you&rsquo;re free to add as many child templates as you want and can&rsquo;t forget to include the header and footer templates.
You also have the option to define more than just one &ldquo;content&rdquo; block, which is useful if you want to include e.g. additional stylesheets, scripts or just change the title. Here another quick example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- layout.html --&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
    &lt;<span style=color:#f92672>head</span>&gt;
        &lt;<span style=color:#f92672>title</span>&gt;{{block &#34;title&#34;}}Default page title{{end}}&lt;/<span style=color:#f92672>title</span>&gt;

        &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;app.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
        {{block &#34;additional_scripts&#34;}}{{end}}
    &lt;/<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>body</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar&#34;</span>&gt;...&lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;content&#34;</span>&gt;
            {{block &#34;content&#34; .}}
                <span style=color:#75715e>&lt;!-- Fallback, if &#34;content&#34; is not defined elsewhere --&gt;</span>
            {{end}}
        &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><h2 id=implementing-the-template-renderers>Implementing the template renderers</h2><p>As we&rsquo;ve now covered the basics on how to structure your templates, let me talk about how to render them. In the previous examples I&rsquo;ve chosen to compile and execute the templates just inline, but that does not scale very well and can lead to mistakes really quickly. Especially when dealing with data or custom template functions. So to circumvent that I create specific rendering functions for each template. There is not much science behind that, it&rsquo;s solely to make my life easier.</p><h3 id=the-package-structure>The package structure</h3><p>But before I elaborate on that, I want to quickly give you a picture of what a hypothetical Go directory structure could look like.
There is a <code>main.go</code> file which has the server code with all the handlers, which in the end render the templates to the browser. Then there is a <code>html</code> directory/package which contains all HTML template files and also a <code>html.go</code> file containing all template related functions. I know that Go&rsquo;s standard library already defines an <code>html</code> package and there could be naming conflicts, but as the only place these functions would be used is our <code>html</code> package itself, it&rsquo;s pretty safe. This approach is best described by Ben Johnson&rsquo;s <a href=https://www.gobeyond.dev/standard-package-layout/>Standard package layout</a></p><pre><code>html/
    layout.html
    dashboard.html
    profile/
        show.html
        edit.html
    html.go         &lt;-- here are the rendering functions
main.go             &lt;-- here could be the http handlers
</code></pre><p>So let&rsquo;s take a look into the <code>html.go</code> file and see what is defined there.</p><h3 id=bundling-up-the-templates>Bundling up the templates</h3><p>I am making use of is the <code>embed</code> package introduced in Go 1.16 to bundle up the HTML templates into the resulting Go binary.
The <code>//go:embed *</code> instruction will gather all files in the current <code>html</code> directory and make the contents available in the <code>files</code> variable for later parsing. It has an additional benefit, that you don&rsquo;t have to worry about running the Go binary from the correct location, as it would be necessary when using <code>.ParseFiles()</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;embed&#34;</span>

<span style=color:#75715e>//go:embed *
</span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>files</span> <span style=color:#a6e22e>embed</span>.<span style=color:#a6e22e>FS</span>
</code></pre></div><h3 id=parsing-the-templates>Parsing the templates</h3><p>As the templates are now bundled up and generally available in the <code>files</code> variable, I can start parsing them. For that I always create a small helper function, which is not exported and only used in this <code>html</code> package. Also notice that I&rsquo;m using the new method <code>.ParseFS()</code> instead of <code>.ParseFiles()</code> now.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;html/template&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>file</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Template</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Must</span>(
        <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;layout.html&#34;</span>).<span style=color:#a6e22e>ParseFS</span>(<span style=color:#a6e22e>files</span>, <span style=color:#e6db74>&#34;layout.html&#34;</span>, <span style=color:#a6e22e>file</span>))
}
</code></pre></div><p>This is optional, but if I need additional custom template functions, I also add another global variable for <code>template.FuncMap</code> and add that into the parsing code like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>funcs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>FuncMap</span>{
    <span style=color:#e6db74>&#34;uppercase&#34;</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>v</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToUpper</span>(<span style=color:#a6e22e>v</span>)
    },
}
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff>  func parse(file string) *template.Template {
  	  return template.Must(
<span style=color:#f92672>-          template.New(&#34;layout.html&#34;).ParseFS(files, &#34;layout.html&#34;, file))
</span><span style=color:#f92672></span><span style=color:#a6e22e>+          template.New(&#34;layout.html&#34;).Funcs(funcs).ParseFS(files, &#34;layout.html&#34;, file))
</span><span style=color:#a6e22e></span>  }
</code></pre></div><p>With that helper function in place, I then have the opportunity to parse all files very easily. Like <code>files</code>, I also assign them to package global variables. I know that global variables are not considered a good approach, but as they are very basic and unexported, the risk is very minimal.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> (
    <span style=color:#a6e22e>dashboard</span>   = <span style=color:#a6e22e>parse</span>(<span style=color:#e6db74>&#34;dashboard.html&#34;</span>)
    <span style=color:#a6e22e>profileShow</span> = <span style=color:#a6e22e>parse</span>(<span style=color:#e6db74>&#34;profile/show.html&#34;</span>)
    <span style=color:#a6e22e>profileEdit</span> = <span style=color:#a6e22e>parse</span>(<span style=color:#e6db74>&#34;profile/edit.html&#34;</span>)
)
</code></pre></div><h3 id=template-helper-structs-and-functions>Template helper structs and functions</h3><p>The next part is to create developer friendly rendering functions. These are fairly easy as they just take an <code>io.Writer</code>, the desired template parameters and execute the template. I am using well defined structs for the data I am passing into the execute function instead of interfaces as it gives me better type safety for the template variables. With that I just have to make sure once, that all variables used in a template are filled correctly. Whenever my data changes, I get feedback on that right at compile time instead of seeing something is missing when looking at it in the browser.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>DashboardParams</span> <span style=color:#66d9ef>struct</span> {
    <span style=color:#a6e22e>User</span>       <span style=color:#a6e22e>User</span>
    <span style=color:#a6e22e>Statistics</span> []<span style=color:#a6e22e>Statistics</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Dashboard</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Writer</span>, <span style=color:#a6e22e>p</span> <span style=color:#a6e22e>DashboardParams</span>) <span style=color:#66d9ef>error</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dashboard</span>.<span style=color:#a6e22e>Execute</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>p</span>)
}

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ProfileShowParams</span> <span style=color:#66d9ef>struct</span> {
    <span style=color:#a6e22e>User</span>        <span style=color:#a6e22e>User</span>
    <span style=color:#a6e22e>ProfileInfo</span> <span style=color:#a6e22e>Profile</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ProfileShow</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>io</span>.<span style=color:#a6e22e>Writer</span>, <span style=color:#a6e22e>p</span> <span style=color:#a6e22e>ProfileShowParams</span>) <span style=color:#66d9ef>error</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>dashboard</span>.<span style=color:#a6e22e>Execute</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>p</span>)
}

<span style=color:#75715e>// and so on ...
</span></code></pre></div><h2 id=using-the-new-template-functions>Using the new template functions</h2><p>With all that scaffold in place, it&rsquo;s now super easy to use render these HTML templates in a save and developer friendly manner. Just setup your http endpoint handler, fill in the template params struct and execute the template to the <code>http.ResponseWriter</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;github.com/philippta/myproject/html&#34;</span>

<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/dashboard&#34;</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
    <span style=color:#a6e22e>user</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getUser</span>()
    <span style=color:#a6e22e>stats</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getStatistics</span>()

    <span style=color:#a6e22e>params</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>DashboardParams</span>{
        <span style=color:#a6e22e>User</span>:       <span style=color:#a6e22e>user</span>,
        <span style=color:#a6e22e>Statistics</span>: <span style=color:#a6e22e>stats</span>,
    }
    <span style=color:#a6e22e>html</span>.<span style=color:#a6e22e>Dashboard</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>params</span>)
})
</code></pre></div><h2 id=wrapping-up>Wrapping up</h2><p>This basically wraps up the way I am writing frontend applications in Go. It&rsquo;s not really hard to implement and makes my life way easier. By using the <code>html/template</code> package instead of other frontend frameworks, you focus more on the layout and not introduce unnecessary complexity.</p><p>If you&rsquo;re interested in seeing all of this coming together, follow this link to my GitHub repo:
<a href=https://github.com/philippta/web-frontend-demo>https://github.com/philippta/web-frontend-demo</a></p><p>Cheers 👋</p></div><footer class=post-footer><ul class=post-tags><li><a href=/tags/go>go</a></li><li><a href=/tags/html>html</a></li></ul></footer></article></main><script>updateThemeButton(setTheme())</script><footer class=footer><span>&copy; 2021 <a href=/>Philipp Tanlak</a></span></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js integrity="sha512-YBk7HhgDZvBxmtOfUdvX0z8IH2d10Hp3aEygaMNhtF8fSOvBZ16D/1bXZTJV6ndk/L/DlXxYStP8jrF77v2MIg==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-go.min.js integrity="sha512-SgF1uayJ2/8TV+MhLasqygnm++vYRXswmrR2ZAmUCL4pXtf+6KzUgXPpn10Y6xca658sxOQEOsoP3MChfhke5A==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-diff.min.js integrity="sha512-QHFQ4+gqPck5hEy4UhfKynXlq3U58GuSQli0/+i6o1AcC/6ht6PtwhtkNIurLfshVbaXkPDXdVp8p/eGXfRKIA==" crossorigin=anonymous></script><script></script></body></html>